--- openssl/apps/req.c	2017-11-07 12:06:43.000000000 +0100
+++ openssl/apps/req.c	2017-11-11 01:32:19.452923119 +0100
@@ -188,6 +188,7 @@ int MAIN(int argc, char **argv)
     char *inrand = NULL;
     char *passargin = NULL, *passargout = NULL;
     char *passin = NULL, *passout = NULL;
+    char *startdate = NULL, *enddate = NULL;
     char *p;
     char *subj = NULL;
     int multirdn = 0;
@@ -348,6 +349,14 @@ int MAIN(int argc, char **argv)
             days = atoi(*(++argv));
             if (days == 0)
                 days = 30;
+	} else if (strcmp(*argv,"-startdate") == 0) {
+	    if (--argc < 1)
+		goto bad;
+	    startdate= *(++argv);
+	} else if (strcmp(*argv,"-enddate") == 0) {
+	    if (--argc < 1)
+		goto bad;
+	    enddate = *(++argv);
         } else if (strcmp(*argv, "-set_serial") == 0) {
             if (--argc < 1)
                 goto bad;
@@ -425,6 +434,10 @@ int MAIN(int argc, char **argv)
                    " -x509          output a x509 structure instead of a cert. req.\n");
         BIO_printf(bio_err,
                    " -days          number of days a certificate generated by -x509 is valid for.\n");
+	BIO_printf(bio_err,
+		   " -startdate arg notBefore field a certificate generated by -x509 is valid for.\n");
+	BIO_printf(bio_err,
+		   " -enddate arg   notAfter field a certificate generated by -x509 is valid for.\n");
         BIO_printf(bio_err,
                    " -set_serial    serial number to use for a certificate generated by -x509.\n");
         BIO_printf(bio_err,
@@ -801,6 +814,12 @@ int MAIN(int argc, char **argv)
                 goto end;
             if (!X509_time_adj_ex(X509_get_notAfter(x509ss), days, 0, NULL))
                 goto end;
+            if ((startdate != NULL) && (enddate != NULL)) {
+                if (! ASN1_TIME_set_string(X509_get_notBefore(x509ss),startdate))
+                    goto end;
+                if (! ASN1_TIME_set_string(X509_get_notAfter(x509ss),enddate))
+                    goto end;
+            }
             if (!X509_set_subject_name
                 (x509ss, X509_REQ_get_subject_name(req)))
                 goto end;
